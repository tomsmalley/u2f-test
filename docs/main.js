!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";n.r(t),n.d(t,"AccountNameRequiredError",(function(){return c})),n.d(t,"AccountNotSupported",(function(){return f})),n.d(t,"AmountRequired",(function(){return l})),n.d(t,"BluetoothRequired",(function(){return h})),n.d(t,"BtcUnmatchedApp",(function(){return d})),n.d(t,"CantOpenDevice",(function(){return p})),n.d(t,"CantScanQRCode",(function(){return Be})),n.d(t,"CashAddrNotSupported",(function(){return g})),n.d(t,"CurrencyNotSupported",(function(){return v})),n.d(t,"DBNotReset",(function(){return Xe})),n.d(t,"DBWrongPassword",(function(){return Ke})),n.d(t,"DeviceAppVerifyNotSupported",(function(){return y})),n.d(t,"DeviceGenuineSocketEarlyClose",(function(){return m})),n.d(t,"DeviceHalted",(function(){return I})),n.d(t,"DeviceInOSUExpected",(function(){return A})),n.d(t,"DeviceNameInvalid",(function(){return b})),n.d(t,"DeviceNotGenuineError",(function(){return E})),n.d(t,"DeviceOnDashboardExpected",(function(){return w})),n.d(t,"DeviceOnDashboardUnexpected",(function(){return _})),n.d(t,"DeviceShouldStayInApp",(function(){return Oe})),n.d(t,"DeviceSocketFail",(function(){return S})),n.d(t,"DeviceSocketNoBulkStatus",(function(){return T})),n.d(t,"DisconnectedDevice",(function(){return R})),n.d(t,"DisconnectedDeviceDuringOperation",(function(){return P})),n.d(t,"ETHAddressNonEIP",(function(){return Me})),n.d(t,"EnpointConfigError",(function(){return N})),n.d(t,"EthAppPleaseEnableContractData",(function(){return O})),n.d(t,"FeeEstimationFailed",(function(){return C})),n.d(t,"FeeNotLoaded",(function(){return xe})),n.d(t,"FeeRequired",(function(){return Fe})),n.d(t,"FeeTooHigh",(function(){return ke})),n.d(t,"FirmwareNotRecognized",(function(){return U})),n.d(t,"FirmwareOrAppUpdateRequired",(function(){return We})),n.d(t,"GasLessThanEstimate",(function(){return se})),n.d(t,"GenuineCheckFailed",(function(){return qe})),n.d(t,"HardResetFail",(function(){return D})),n.d(t,"InvalidAddress",(function(){return M})),n.d(t,"InvalidAddressBecauseDestinationIsAlsoSource",(function(){return B})),n.d(t,"InvalidXRPTag",(function(){return L})),n.d(t,"LatestMCUInstalledError",(function(){return x})),n.d(t,"LedgerAPI4xx",(function(){return Ge})),n.d(t,"LedgerAPI5xx",(function(){return He})),n.d(t,"LedgerAPIError",(function(){return k})),n.d(t,"LedgerAPIErrorWithMessage",(function(){return j})),n.d(t,"LedgerAPINotAvailable",(function(){return Y})),n.d(t,"MCUNotGenuineToDashboard",(function(){return de})),n.d(t,"ManagerAppAlreadyInstalledError",(function(){return q})),n.d(t,"ManagerAppDepInstallRequired",(function(){return H})),n.d(t,"ManagerAppDepUninstallRequired",(function(){return W})),n.d(t,"ManagerAppRelyOnBTCError",(function(){return G})),n.d(t,"ManagerDeviceLockedError",(function(){return z})),n.d(t,"ManagerFirmwareNotEnoughSpaceError",(function(){return K})),n.d(t,"ManagerNotEnoughSpaceError",(function(){return X})),n.d(t,"ManagerUninstallBTCDep",(function(){return V})),n.d(t,"NetworkDown",(function(){return Q})),n.d(t,"NoAccessToCamera",(function(){return re})),n.d(t,"NoAddressesFound",(function(){return Z})),n.d(t,"NoDBPathGiven",(function(){return ze})),n.d(t,"NotEnoughBalance",(function(){return J})),n.d(t,"NotEnoughBalanceBecauseDestinationNotCreated",(function(){return ne})),n.d(t,"NotEnoughBalanceInParentAccount",(function(){return ee})),n.d(t,"NotEnoughBalanceToDelegate",(function(){return $})),n.d(t,"NotEnoughGas",(function(){return oe})),n.d(t,"NotEnoughSpendableBalance",(function(){return te})),n.d(t,"NotSupportedLegacyAddress",(function(){return ie})),n.d(t,"PairingFailed",(function(){return Ye})),n.d(t,"PasswordIncorrectError",(function(){return ue})),n.d(t,"PasswordsDontMatchError",(function(){return ae})),n.d(t,"RecipientRequired",(function(){return pe})),n.d(t,"RecommendSubAccountsToEmpty",(function(){return ce})),n.d(t,"RecommendUndelegation",(function(){return fe})),n.d(t,"StatusCodes",(function(){return Qe})),n.d(t,"SyncError",(function(){return je})),n.d(t,"TimeoutTagged",(function(){return le})),n.d(t,"TransportError",(function(){return Ve})),n.d(t,"TransportInterfaceNotAvailable",(function(){return Re})),n.d(t,"TransportOpenUserCancelled",(function(){return Te})),n.d(t,"TransportRaceCondition",(function(){return Pe})),n.d(t,"TransportStatusError",(function(){return Je})),n.d(t,"TransportWebUSBGestureRequired",(function(){return Ne})),n.d(t,"UnavailableTezosOriginatedAccountReceive",(function(){return ge})),n.d(t,"UnavailableTezosOriginatedAccountSend",(function(){return ve})),n.d(t,"UnexpectedBootloader",(function(){return he})),n.d(t,"UnknownMCU",(function(){return F})),n.d(t,"UpdateFetchFileFail",(function(){return ye})),n.d(t,"UpdateIncorrectHash",(function(){return me})),n.d(t,"UpdateIncorrectSig",(function(){return Ee})),n.d(t,"UpdateYourApp",(function(){return we})),n.d(t,"UserRefusedAddress",(function(){return Ae})),n.d(t,"UserRefusedAllowManager",(function(){return be})),n.d(t,"UserRefusedDeviceNameChange",(function(){return _e})),n.d(t,"UserRefusedFirmwareUpdate",(function(){return Ie})),n.d(t,"UserRefusedOnDevice",(function(){return Se})),n.d(t,"WebsocketConnectionError",(function(){return Ce})),n.d(t,"WebsocketConnectionFailed",(function(){return Ue})),n.d(t,"WrongAppForCurrency",(function(){return Le})),n.d(t,"WrongDeviceForAccount",(function(){return De})),n.d(t,"addCustomErrorDeserializer",(function(){return i})),n.d(t,"createCustomErrorClass",(function(){return s})),n.d(t,"deserializeError",(function(){return a})),n.d(t,"getAltStatusMessage",(function(){return Ze})),n.d(t,"serializeError",(function(){return u}));var r={},o={},i=function(e,t){o[e]=t},s=function(e){var t=function(t,n){Object.assign(this,n),this.name=e,this.message=t||e,this.stack=(new Error).stack};return t.prototype=new Error,r[e]=t,t},a=function(e){if("object"==typeof e&&e){try{var t=JSON.parse(e.message);t.message&&t.name&&(e=t)}catch(e){}var n=void 0;if("string"==typeof e.name){var i=e.name,u=o[i];if(u)n=u(e);else{var c="Error"===i?Error:r[i];c||(console.warn("deserializing an unknown class '"+i+"'"),c=s(i)),n=Object.create(c.prototype);try{for(var f in e)e.hasOwnProperty(f)&&(n[f]=e[f])}catch(e){}}}else n=new Error(e.message);return!n.stack&&Error.captureStackTrace&&Error.captureStackTrace(n,a),n}return new Error(String(e))},u=function(e){return e?"object"==typeof e?function e(t,n){var r={};n.push(t);for(var o=0,i=Object.keys(t);o<i.length;o++){var s=i[o],a=t[s];"function"!=typeof a&&(a&&"object"==typeof a?-1!==n.indexOf(t[s])?r[s]="[Circular]":r[s]=e(t[s],n.slice(0)):r[s]=a)}"string"==typeof t.name&&(r.name=t.name);"string"==typeof t.message&&(r.message=t.message);"string"==typeof t.stack&&(r.stack=t.stack);return r}(e,[]):"function"==typeof e?"[Function: "+(e.name||"anonymous")+"]":e:e};var c=s("AccountNameRequired"),f=s("AccountNotSupported"),l=s("AmountRequired"),h=s("BluetoothRequired"),d=s("BtcUnmatchedApp"),p=s("CantOpenDevice"),g=s("CashAddrNotSupported"),v=s("CurrencyNotSupported"),y=s("DeviceAppVerifyNotSupported"),m=s("DeviceGenuineSocketEarlyClose"),E=s("DeviceNotGenuine"),w=s("DeviceOnDashboardExpected"),_=s("DeviceOnDashboardUnexpected"),A=s("DeviceInOSUExpected"),I=s("DeviceHalted"),b=s("DeviceNameInvalid"),S=s("DeviceSocketFail"),T=s("DeviceSocketNoBulkStatus"),R=s("DisconnectedDevice"),P=s("DisconnectedDeviceDuringOperation"),N=s("EnpointConfig"),O=s("EthAppPleaseEnableContractData"),C=s("FeeEstimationFailed"),U=s("FirmwareNotRecognized"),D=s("HardResetFail"),L=s("InvalidXRPTag"),M=s("InvalidAddress"),B=s("InvalidAddressBecauseDestinationIsAlsoSource"),x=s("LatestMCUInstalledError"),F=s("UnknownMCU"),k=s("LedgerAPIError"),j=s("LedgerAPIErrorWithMessage"),Y=s("LedgerAPINotAvailable"),q=s("ManagerAppAlreadyInstalled"),G=s("ManagerAppRelyOnBTC"),H=s("ManagerAppDepInstallRequired"),W=s("ManagerAppDepUninstallRequired"),z=s("ManagerDeviceLocked"),K=s("ManagerFirmwareNotEnoughSpace"),X=s("ManagerNotEnoughSpace"),V=s("ManagerUninstallBTCDep"),Q=s("NetworkDown"),Z=s("NoAddressesFound"),J=s("NotEnoughBalance"),$=s("NotEnoughBalanceToDelegate"),ee=s("NotEnoughBalanceInParentAccount"),te=s("NotEnoughSpendableBalance"),ne=s("NotEnoughBalanceBecauseDestinationNotCreated"),re=s("NoAccessToCamera"),oe=s("NotEnoughGas"),ie=s("NotSupportedLegacyAddress"),se=s("GasLessThanEstimate"),ae=s("PasswordsDontMatch"),ue=s("PasswordIncorrect"),ce=s("RecommendSubAccountsToEmpty"),fe=s("RecommendUndelegation"),le=s("TimeoutTagged"),he=s("UnexpectedBootloader"),de=s("MCUNotGenuineToDashboard"),pe=s("RecipientRequired"),ge=s("UnavailableTezosOriginatedAccountReceive"),ve=s("UnavailableTezosOriginatedAccountSend"),ye=s("UpdateFetchFileFail"),me=s("UpdateIncorrectHash"),Ee=s("UpdateIncorrectSig"),we=s("UpdateYourApp"),_e=s("UserRefusedDeviceNameChange"),Ae=s("UserRefusedAddress"),Ie=s("UserRefusedFirmwareUpdate"),be=s("UserRefusedAllowManager"),Se=s("UserRefusedOnDevice"),Te=s("TransportOpenUserCancelled"),Re=s("TransportInterfaceNotAvailable"),Pe=s("TransportRaceCondition"),Ne=s("TransportWebUSBGestureRequired"),Oe=s("DeviceShouldStayInApp"),Ce=s("WebsocketConnectionError"),Ue=s("WebsocketConnectionFailed"),De=s("WrongDeviceForAccount"),Le=s("WrongAppForCurrency"),Me=s("ETHAddressNonEIP"),Be=s("CantScanQRCode"),xe=s("FeeNotLoaded"),Fe=s("FeeRequired"),ke=s("FeeTooHigh"),je=s("SyncError"),Ye=s("PairingFailed"),qe=s("GenuineCheckFailed"),Ge=s("LedgerAPI4xx"),He=s("LedgerAPI5xx"),We=s("FirmwareOrAppUpdateRequired"),ze=s("NoDBPathGiven"),Ke=s("DBWrongPassword"),Xe=s("DBNotReset");function Ve(e,t){this.name="TransportError",this.message=e,this.stack=(new Error).stack,this.id=t}Ve.prototype=new Error,i("TransportError",(function(e){return new Ve(e.message,e.id)}));var Qe={PIN_REMAINING_ATTEMPTS:25536,INCORRECT_LENGTH:26368,MISSING_CRITICAL_PARAMETER:26624,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,SECURITY_STATUS_NOT_SATISFIED:27010,CONDITIONS_OF_USE_NOT_SATISFIED:27013,INCORRECT_DATA:27264,NOT_ENOUGH_MEMORY_SPACE:27268,REFERENCED_DATA_NOT_FOUND:27272,FILE_ALREADY_EXISTS:27273,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,CLA_NOT_SUPPORTED:28160,TECHNICAL_PROBLEM:28416,OK:36864,MEMORY_PROBLEM:37440,NO_EF_SELECTED:37888,INVALID_OFFSET:37890,FILE_NOT_FOUND:37892,INCONSISTENT_FILE:37896,ALGORITHM_NOT_SUPPORTED:38020,INVALID_KCV:38021,CODE_NOT_INITIALIZED:38914,ACCESS_CONDITION_NOT_FULFILLED:38916,CONTRADICTION_SECRET_CODE_STATUS:38920,CONTRADICTION_INVALIDATION:38928,CODE_BLOCKED:38976,MAX_VALUE_REACHED:38992,GP_AUTH_FAILED:25344,LICENSING:28482,HALTED:28586};function Ze(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received"}if(28416<=e&&e<=28671)return"Internal error, please report"}function Je(e){this.name="TransportStatusError";var t=Object.keys(Qe).find((function(t){return Qe[t]===e}))||"UNKNOWN_ERROR",n=Ze(e)||t,r=e.toString(16);this.message="Ledger device: "+n+" (0x"+r+")",this.stack=(new Error).stack,this.statusCode=e,this.statusText=t}Je.prototype=new Error,i("TransportStatusError",(function(e){return new Je(e.statusCode)}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));const r={blue:{id:"blue",productName:"Ledger Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:491520,blockSize:4096},nanoS:{id:"nanoS",productName:"Ledger Nano S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:327680,blockSize:4096},nanoX:{id:"nanoX",productName:"Ledger Nano X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2097152,blockSize:4096,bluetoothSpec:[{serviceUuid:"d973f2e0-b19e-11e2-9e96-0800200c9a66",notifyUuid:"d973f2e1-b19e-11e2-9e96-0800200c9a66",writeUuid:"d973f2e2-b19e-11e2-9e96-0800200c9a66"},{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572"}]}},o=Object.values(r),i=11415,s=e=>{const t=o.find(t=>t.legacyUsbProductId===e);if(t)return t;const n=e>>8;return o.find(e=>e.productIdMM===n)},a=[],u={};for(let e in r){const t=r[e],{bluetoothSpec:n}=t;if(n)for(let e=0;e<n.length;e++){const r=n[e];a.push(r.serviceUuid),u[r.serviceUuid]=u[r.serviceUuid.replace(/-/g,"")]={deviceModel:t,...r}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));let r=0;const o=[],i=(e,t,n)=>{const i={type:e,id:String(++r),date:new Date};t&&(i.message=t),n&&(i.data=n),function(e){for(let t=0;t<o.length;t++)try{o[t](e)}catch(e){console.error(e)}}(i)},s=e=>(o.push(e),()=>{const t=o.indexOf(e);-1!==t&&(o[t]=o[o.length-1],o.pop())});"undefined"!=typeof window&&(window.__ledgerLogsListen=s)},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(15),o=n(16),i=n(17);function s(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(e,t){if(s()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),o=(e=a(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|d(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):h(e,t);if("Buffer"===t.type&&i(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,t){if(f(t),e=a(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|d(t.length);e=a(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function d(e){if(e>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Y(e).length;default:if(r)return j(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return R(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return S(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,o);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,o){var i,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){var f=-1;for(i=n;i<a;i++)if(c(e,i)===c(t,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===u)return f*s}else-1!==f&&(i-=i-f),f=-1}else for(n+u>a&&(n=a-u),i=n;i>=0;i--){for(var l=!0,h=0;h<u;h++)if(c(e,i+h)!==c(t,h)){l=!1;break}if(l)return i}return-1}function E(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function w(e,t,n,r){return q(j(t,e.length-n),e,n,r)}function _(e,t,n,r){return q(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function A(e,t,n,r){return _(e,t,n,r)}function I(e,t,n,r){return q(Y(t),e,n,r)}function b(e,t,n,r){return q(function(e,t){for(var n,r,o,i=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function S(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,s,a,u,c=e[o],f=null,l=c>239?4:c>223?3:c>191?2:1;if(o+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&c)<<6|63&i)>127&&(f=u);break;case 3:i=e[o+1],s=e[o+2],128==(192&i)&&128==(192&s)&&(u=(15&c)<<12|(63&i)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:i=e[o+1],s=e[o+2],a=e[o+3],128==(192&i)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&i)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),o+=l}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return f(t),t<=0?a(e,t):void 0!==n?"string"==typeof r?a(e,t).fill(n,r):a(e,t).fill(n):a(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return l(null,e)},u.allocUnsafeSlow=function(e){return l(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var s=e[n];if(!u.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(r,o),o+=s.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,o){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(i,s),c=this.slice(r,o),f=e.slice(t,n),l=0;l<a;++l)if(c[l]!==f[l]){i=c[l],s=f[l];break}return i<s?-1:s<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return _(this,e,t,n);case"latin1":case"binary":return A(this,e,t,n);case"base64":return I(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function R(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function N(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=k(e[i]);return o}function O(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function C(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function U(e,t,n,r,o,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function M(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,i){return i||M(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function x(e,t,n,r,i){return i||M(e,0,n,8),o.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var o=t-e;n=new u(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},u.prototype.readUInt8=function(e,t){return t||C(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||C(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||C(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||C(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||C(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||C(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||C(e,4,this.length),o.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||C(e,4,this.length),o.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||C(e,8,this.length),o.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||C(e,8,this.length),o.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||U(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||U(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);U(this,e,t,n,o-1,-o)}var i=0,s=1,a=0;for(this[t]=255&e;++i<n&&(s*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);U(this,e,t,n,o-1,-o)}var i=n-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):D(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):D(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||U(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return x(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return x(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!u.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var s=u.isBuffer(e)?e:j(new u(e,r).toString()),a=s.length;for(i=0;i<n-t;++i)this[i+t]=s[i%a]}return this};var F=/[^+\/0-9A-Za-z-_]/g;function k(e){return e<16?"0"+e.toString(16):e.toString(16)}function j(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Y(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(F,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(10),o=n.n(r),i=n(0);class s{constructor(){this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new o.a,this.send=async(t,n,r,o,s=e.alloc(0),a=[i.StatusCodes.OK])=>{if(s.length>=256)throw new i.TransportError("data.length exceed 256 bytes limit. Got: "+s.length,"DataLengthTooBig");const u=await this.exchange(e.concat([e.from([t,n,r,o]),e.from([s.length]),s])),c=u.readUInt16BE(u.length-2);if(!a.some(e=>e===c))throw new i.TransportStatusError(c);return u},this.exchangeBusyPromise=void 0,this.exchangeAtomicImpl=async e=>{if(this.exchangeBusyPromise)throw new i.TransportRaceCondition("An action was already pending on the Ledger device. Please deny or reconnect.");let t;const n=new Promise(e=>{t=e});this.exchangeBusyPromise=n;let r=!1;const o=setTimeout(()=>{r=!0,this.emit("unresponsive")},this.unresponsiveTimeout);try{const n=await e();return r&&this.emit("responsive"),n}finally{clearTimeout(o),t&&t(),this.exchangeBusyPromise=null}},this._appAPIlock=null}exchange(e){throw new Error("exchange not implemented")}setScrambleKey(e){}close(){return Promise.resolve()}on(e,t){this._events.on(e,t)}off(e,t){this._events.removeListener(e,t)}emit(e,...t){this._events.emit(e,...t)}setDebugMode(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")}setExchangeTimeout(e){this.exchangeTimeout=e}setExchangeUnresponsiveTimeout(e){this.unresponsiveTimeout=e}static create(e=3e3,t){return new Promise((n,r)=>{let o=!1;const s=this.listen({next:t=>{o=!0,s&&s.unsubscribe(),a&&clearTimeout(a),this.open(t.descriptor,e).then(n,r)},error:e=>{a&&clearTimeout(a),r(e)},complete:()=>{a&&clearTimeout(a),o||r(new i.TransportError(this.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),a=t?setTimeout(()=>{s.unsubscribe(),r(new i.TransportError(this.ErrorMessage_ListenTimeout,"ListenTimeout"))},t):null})}decorateAppAPIMethods(e,t,n){for(let r of t)e[r]=this.decorateAppAPIMethod(r,e[r],e,n)}decorateAppAPIMethod(e,t,n,r){return async(...o)=>{const{_appAPIlock:s}=this;if(s)return Promise.reject(new i.TransportError("Ledger Device is busy (lock "+s+")","TransportLocked"));try{return this._appAPIlock=e,this.setScrambleKey(r),await t.apply(n,o)}finally{this._appAPIlock=null}}}}s.isSupported=void 0,s.list=void 0,s.listen=void 0,s.open=void 0,s.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",s.ErrorMessage_NoDeviceFound="No Ledger device found"}).call(this,n(3).Buffer)},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return u}));var r=n(1);const o=[{vendorId:r.b}];async function i(){return await navigator.usb.requestDevice({filters:o})}async function s(){return(await navigator.usb.getDevices()).filter(e=>e.vendorId===r.b)}async function a(){const e=await s();return e.length>0?e[0]:i()}const u=()=>Promise.resolve(!!navigator&&!!navigator.usb&&"function"==typeof navigator.usb.getDevices)},function(e,t,n){"use strict";e.exports=n(18)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0);function o(t){const n=e.alloc(2);return n.writeUInt16BE(t,0),n}const i={data:e.alloc(0),dataLength:0,sequence:0};var s=(t,n)=>({makeBlocks(r){let i=e.concat([o(r.length),r]);const s=n-5,a=Math.ceil(i.length/s);i=e.concat([i,e.alloc(a*s-i.length+1).fill(0)]);const u=[];for(let n=0;n<a;n++){const r=e.alloc(5);r.writeUInt16BE(t,0),r.writeUInt8(5,2),r.writeUInt16BE(n,3);const o=i.slice(n*s,(n+1)*s);u.push(e.concat([r,o]))}return u},reduceResponse(n,o){let{data:s,dataLength:a,sequence:u}=n||i;if(o.readUInt16BE(0)!==t)throw new r.TransportError("Invalid channel","InvalidChannel");if(5!==o.readUInt8(2))throw new r.TransportError("Invalid tag","InvalidTag");if(o.readUInt16BE(3)!==u)throw new r.TransportError("Invalid sequence","InvalidSequence");n||(a=o.readUInt16BE(5)),u++;const c=o.slice(n?5:7);return s=e.concat([s,c]),s.length>a&&(s=s.slice(0,a)),{data:s,dataLength:a,sequence:u}},getReducedResult(e){if(e&&e.dataLength===e.data.length)return e.data}});t.default=s}).call(this,n(3).Buffer)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(6),o=n(4),i=n(2),s=n(0);const a=e=>e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");function u(t,n,o,s){const u=function(t,n){const r=e.alloc(t.length);for(let e=0;e<t.length;e++)r[e]=t[e]^n[e%n.length];return r}(t,o),c=e.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),f={version:"U2F_V2",keyHandle:a(u.toString("base64")),challenge:a(c.toString("base64")),appId:location.origin};return Object(i.a)("apdu","=> "+t.toString("hex")),Object(r.sign)(f,n/1e3).then(t=>{const{signatureData:n}=t;if("string"==typeof n){const t=e.from((r=n).replace(/-/g,"+").replace(/_/g,"/")+"==".substring(0,3*r.length%4),"base64");let o;return o=s?t.slice(5):t,Object(i.a)("apdu","<= "+o.toString("hex")),o}throw t;var r})}let c=[];class f extends o.a{static async open(e,t=5e3){return new f}constructor(){super(),this.scrambleKey=void 0,this.unwrap=!0,c.push(this)}async exchange(e){try{return await u(e,this.exchangeTimeout,this.scrambleKey,this.unwrap)}catch(e){throw"object"==typeof e.metaData?(5===e.metaData.code&&(c.forEach(e=>e.emit("disconnect")),c=[]),function(e,t,n){const r=new s.TransportError(t,n);return r.originalError=e,r}(e,"Failed to sign with Ledger device: U2F "+e.metaData.type,"U2F_"+e.metaData.code)):e}}setScrambleKey(t){this.scrambleKey=e.from(t,"ascii")}setUnwrap(e){this.unwrap=e}close(){return Promise.resolve()}}f.isSupported=r.isSupported,f.list=()=>Object(r.isSupported)().then(e=>e?[null]:[]),f.listen=e=>{let t=!1;return Object(r.isSupported)().then(n=>{t||(n?(e.next({type:"add",descriptor:null}),e.complete()):e.error(new s.TransportError("U2F browser support is needed for Ledger. Please use Chrome, Opera or Firefox with a U2F extension. Also make sure you're on an HTTPS connection","U2FNotSupported")))}),{unsubscribe:()=>{t=!0}}}}).call(this,n(3).Buffer)},function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function o(){void 0!==i&&e.removeListener("error",i),n([].slice.call(arguments))}var i;"error"!==t&&(i=function(n){e.removeListener(t,o),r(n)},e.once("error",i)),e.once(t,o)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var o,i,s,a;if(c(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=f(e))>0&&s.length>o&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=h.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):v(o,o.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return f(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"==typeof u)i(u,this,t);else{var c=u.length,f=v(u,c);for(n=0;n<c;++n)i(f[n],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,o,i,s;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";(function(e,r){n.d(t,"a",(function(){return p}));var o=n(4),i=n(7),s=n.n(i),a=n(1),u=n(2),c=n(0);const f=[{vendorId:a.b}],l=()=>{const{hid:e}=navigator;if(!e)throw new c.TransportError("navigator.hid is not supported","HIDNotSupported");return e};async function h(){const e=await l().requestDevice({filters:f});return Array.isArray(e)?e:[e]}async function d(){return(await l().getDevices()).filter(e=>e.vendorId===a.b)}class p extends o.a{constructor(e){super(),this.device=void 0,this.deviceModel=void 0,this.channel=Math.floor(65535*Math.random()),this.packetSize=64,this.inputs=[],this.inputCallback=void 0,this.read=()=>this.inputs.length?Promise.resolve(this.inputs.shift()):new Promise(e=>{this.inputCallback=e}),this.onInputReport=e=>{const t=r.from(e.data.buffer);this.inputCallback?(this.inputCallback(t),this.inputCallback=null):this.inputs.push(t)},this._disconnectEmitted=!1,this._emitDisconnect=e=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",e))},this.exchange=e=>this.exchangeAtomicImpl(async()=>{const{channel:t,packetSize:n}=this;Object(u.a)("apdu","=> "+e.toString("hex"));const r=s()(t,n),o=r.makeBlocks(e);for(let e=0;e<o.length;e++)await this.device.sendReport(0,o[e]);let i,a;for(;!(i=r.getReducedResult(a));){const e=await this.read();a=r.reduceResponse(a,e)}return Object(u.a)("apdu","<= "+i.toString("hex")),i}).catch(e=>{if(e&&e.message&&e.message.includes("write"))throw this._emitDisconnect(e),new c.DisconnectedDeviceDuringOperation(e.message);throw e}),this.device=e,this.deviceModel=Object(a.a)(e.productId),e.addEventListener("inputreport",this.onInputReport)}static async request(){const[e]=await h();return p.open(e)}static async openConnected(){const e=await d();return 0===e.length?null:p.open(e[0])}static async open(e){await e.open();const t=new p(e),n=r=>{e===r.device&&(l().removeEventListener("disconnect",n),t._emitDisconnect(new c.DisconnectedDevice))};return l().addEventListener("disconnect",n),t}async close(){await this.exchangeBusyPromise,this.device.removeEventListener("inputreport",this.onInputReport),await this.device.close()}setScrambleKey(){}}p.isSupported=()=>Promise.resolve(!(!e.navigator||!e.navigator.hid)),p.list=d,p.listen=e=>{let t=!1;return async function(){const e=await d();return e.length>0?e[0]:(await h())[0]}().then(n=>{if(n){if(!t){const t=Object(a.a)(n.productId);e.next({type:"add",descriptor:n,deviceModel:t}),e.complete()}}else e.error(new c.TransportOpenUserCancelled("Access denied to use Ledger device"))},t=>{e.error(new c.TransportOpenUserCancelled(t.message))}),{unsubscribe:function(){t=!0}}}}).call(this,n(8),n(3).Buffer)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(4),o=n(7),i=n.n(o),s=n(1),a=n(2),u=n(0),c=n(5);class f extends r.a{constructor(t,n){super(),this.device=void 0,this.deviceModel=void 0,this.channel=Math.floor(65535*Math.random()),this.packetSize=64,this.interfaceNumber=void 0,this._disconnectEmitted=!1,this._emitDisconnect=e=>{this._disconnectEmitted||(this._disconnectEmitted=!0,this.emit("disconnect",e))},this.exchange=t=>this.exchangeAtomicImpl(async()=>{const{channel:n,packetSize:r}=this;Object(a.a)("apdu","=> "+t.toString("hex"));const o=i()(n,r),s=o.makeBlocks(t);for(let e=0;e<s.length;e++)await this.device.transferOut(3,s[e]);let u,c;for(;!(u=o.getReducedResult(c));){const t=await this.device.transferIn(3,r),n=e.from(t.data.buffer);c=o.reduceResponse(c,n)}return Object(a.a)("apdu","<= "+u.toString("hex")),u}).catch(e=>{if(e&&e.message&&e.message.includes("disconnected"))throw this._emitDisconnect(e),new u.DisconnectedDeviceDuringOperation(e.message);throw e}),this.device=t,this.interfaceNumber=n,this.deviceModel=Object(s.a)(t.productId)}static async request(){const e=await Object(c.d)();return f.open(e)}static async openConnected(){const e=await Object(c.b)();return 0===e.length?null:f.open(e[0])}static async open(e){await e.open(),null===e.configuration&&await e.selectConfiguration(1),await e.reset();const t=e.configurations[0].interfaces.find(({alternates:e})=>e.some(e=>255===e.interfaceClass));if(!t)throw new u.TransportInterfaceNotAvailable("No WebUSB interface found for your Ledger device. Please upgrade firmware or contact techsupport.");const n=t.interfaceNumber;try{await e.claimInterface(n)}catch(t){throw await e.close(),new u.TransportInterfaceNotAvailable(t.message)}const r=new f(e,n),o=t=>{e===t.device&&(navigator.usb.removeEventListener("disconnect",o),r._emitDisconnect(new u.DisconnectedDevice))};return navigator.usb.addEventListener("disconnect",o),r}async close(){await this.exchangeBusyPromise,await this.device.releaseInterface(this.interfaceNumber),await this.device.reset(),await this.device.close()}setScrambleKey(){}}f.isSupported=c.c,f.list=c.b,f.listen=e=>{let t=!1;return Object(c.a)().then(n=>{if(!t){const t=Object(s.a)(n.productId);e.next({type:"add",descriptor:n,deviceModel:t}),e.complete()}},t=>{window.DOMException&&t instanceof window.DOMException&&18===t.code?e.error(new u.TransportWebUSBGestureRequired(t.message)):e.error(new u.TransportOpenUserCancelled(t.message))}),{unsubscribe:function(){t=!0}}}}).call(this,n(3).Buffer)},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(20),i=(r=o)&&r.__esModule?r:{default:r};function s(e){return function(){var t=e.apply(this,arguments);return new Promise((function(e,n){return function r(o,i){try{var s=t[o](i),a=s.value}catch(e){return void n(e)}if(!s.done)return Promise.resolve(a).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(a)}("next")}))}}t.default=class{constructor(e,t="Avalanche",n=console.error){this.CLA=128,this.MAX_APDU_SIZE=230,this.MAX_HRP_LENGTH=24,this.INS_VERSION=0,this.INS_GET_WALLET_ID=1,this.INS_PROMPT_PUBLIC_KEY=2,this.INS_PROMPT_EXT_PUBLIC_KEY=3,this.INS_SIGN_HASH=4,this.transport=e,this.logger=n,t&&e.decorateAppAPIMethods(this,["getAppConfiguration","getWalletAddress","getWalletExtendedPublicKey","getWalletId","signHash"],t)}getWalletAddress(t,n=""){var r=this;return s((function*(){if(n.length>r.MAX_HRP_LENGTH)throw"Maximum Bech32 'human readable part' length exceeded";const o=r.CLA,s=r.INS_PROMPT_PUBLIC_KEY,a=n.length,u=e.concat([e.from(n,"latin1"),r.encodeBip32Path(i.default.fromString(t))]);return(yield r.transport.send(o,s,a,0,u)).slice(0,-2)}))()}getWalletExtendedPublicKey(e){var t=this;return s((function*(){const n=t.CLA,r=t.INS_PROMPT_EXT_PUBLIC_KEY,o=t.encodeBip32Path(i.default.fromString(e)),s=yield t.transport.send(n,r,0,0,o),a=s[0],u=2+a,c=s[1+a];return{public_key:s.slice(1,1+a),chain_code:s.slice(u,u+c)}}))()}signHash(t,n,r){var o=this;return s((function*(){if(32!=r.length)throw"Hash buffer must be 32 bytes";const i=e.concat([o.uInt8Buffer(n.length),r,o.encodeBip32Path(t)]);if(!(yield o.transport.send(o.CLA,o.INS_SIGN_HASH,0,0,i)).slice(0,32).equals(r))throw"Ledger reported a hash that does not match the input hash!";let s=new Map;for(let e=0;e<n.length;e++){const t=n[e];o.logger("Signing with "+t.toString(!0));const r=o.encodeBip32Path(t),i=e>=n.length-1,a=yield o.transport.send(o.CLA,o.INS_SIGN_HASH,i?129:1,0,r);s.set(t.toString(!0),a.slice(0,-2))}return s}))()}getAppConfiguration(){var e=this;return s((function*(){const t=yield e.transport.send(e.CLA,e.INS_VERSION,0,0),n=function(e,t){for(var n=0;n<e.length;n++)if(!t(e[n]))return[e.slice(0,n),e.slice(n)];return[e,""]},[r,o]=(s=3,[(i=t).slice(0,s),i.slice(s)]);var i,s;const[a,u]=n(o,(function(e){return 0!=e})),[c,f]=n(u.slice(1),(function(e){return 0!=e}));return"009000"!=f.toString("hex")&&e.logger("WARNING: Response data does not exactly match expected format for VERSION instruction"),{version:r[0]+"."+r[1]+"."+r[2],commit:a.toString("latin1"),name:c.toString("latin1")}}))()}getWalletId(){var e=this;return s((function*(){return(yield e.transport.send(e.CLA,e.INS_GET_WALLET_ID,0,0)).slice(0,-2)}))()}uInt8Buffer(t){let n=e.alloc(1);return n.writeUInt8(t),n}uInt32BEBuffer(t){let n=e.alloc(4);return n.writeUInt32BE(t),n}encodeBip32Path(t){const n=t.toPathArray();return e.concat([this.uInt8Buffer(n.length)].concat(n.map(this.uInt32BEBuffer)))}}}).call(this,n(3).Buffer)},function(e,t,n){"use strict";n.r(t);var r=n(9),o=n(11),i=n(12),s=n(13),a=n.n(s);async function u(e,t){if(!await t.isSupported())return void console.log(e,"is not supported");console.log(e,"is supported");const n=await t.create().catch(console.error);void 0===n?console.log("Failed to create transport for",e):await async function(e){console.log("Creating ledger...");const t=new a.a(e);console.log("Getting wallet ID...");const n=await t.getWalletId().catch(console.error);console.log(n.toString("hex")),console.log("done")}(n)}document.querySelector("#u2f").onclick=async function(){await u("U2F",r.a)},document.querySelector("#hid").onclick=async function(){await u("WebHID",o.a)},document.querySelector("#usb").onclick=async function(){await u("WebUSB",i.a)}},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),s=r[0],a=r[1],u=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),f=0,l=a>0?s-4:s;for(n=0;n<l;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;2===a&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,u[f++]=255&t);1===a&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t);return u},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],s=0,a=n-o;s<a;s+=16383)i.push(f(e,s,s+16383>a?a:s+16383));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],o[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function f(e,t,n){for(var o,i,s=[],a=t;a<n;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return s.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,s,a=8*o-r-1,u=(1<<a)-1,c=u>>1,f=-7,l=n?o-1:0,h=n?-1:1,d=e[t+l];for(l+=h,i=d&(1<<-f)-1,d>>=-f,f+=a;f>0;i=256*i+e[t+l],l+=h,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=r;f>0;s=256*s+e[t+l],l+=h,f-=8);if(0===i)i=1-c;else{if(i===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),i-=c}return(d?-1:1)*s*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var s,a,u,c=8*i-o-1,f=(1<<c)-1,l=f>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:i-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,o),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,o),s=0));o>=8;e[n+d]=255&a,d+=p,a/=256,o-=8);for(s=s<<o|a,c+=o;c>0;e[n+d]=255&s,d+=p,s/=256,c-=8);e[n+d-p]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";(function(t){e.exports=c;var r=n(19),o="undefined"!=typeof navigator&&!!navigator.userAgent,i=o&&navigator.userAgent.match(/Safari\//)&&!navigator.userAgent.match(/Chrome\//),s=o&&navigator.userAgent.match(/Edge\/1[2345]/),a=null;function u(e){return a||(a=new e((function(e,t){function n(){e({u2f:null,native:!0})}return o?i?n():(void 0!==window.u2f&&"function"==typeof window.u2f.sign&&e({u2f:window.u2f,native:!0}),s||"http:"===location.protocol||"undefined"==typeof MessageChannel?n():void r.isSupported((function(t){t?e({u2f:r,native:!1}):n()}))):n()}))),a}function c(e){return{isSupported:h.bind(e),ensureSupport:p.bind(e),register:g.bind(e),sign:v.bind(e),ErrorCodes:c.ErrorCodes,ErrorNames:c.ErrorNames}}function f(e,t){var n=null!=t?t.errorCode:1,r=c.ErrorNames[""+n],o=new Error(e);return o.metaData={type:r,code:n},o}function l(e,t){var n={};return n.promise=new e((function(e,r){n.resolve=e,n.reject=r,t.then(e,r)})),n.promise.cancel=function(t,r){u(e).then((function(e){r&&!e.native&&e.u2f.disconnect(),n.reject(f(t,{errorCode:-1}))}))},n}function h(){return u(this).then((function(e){return!!e.u2f}))}function d(e){if(!e.u2f){if("http:"===location.protocol)throw new Error("U2F isn't supported over http, only https");throw new Error("U2F not supported")}}function p(){return u(this).then(d)}function g(e,t,n){var r=this;return Array.isArray(e)||(e=[e]),"number"==typeof t&&void 0===n&&(n=t,t=null),t||(t=[]),l(r,u(r).then((function(o){d(o);var i=o.native,s=o.u2f;return new r((function(r,o){if(i){var a=e[0].appId;s.register(a,e,t,(function(e){e.errorCode?o(f("Registration failed",e)):(delete e.errorCode,r(e))}),n)}else s.register(e,t,(function(e,t){e?o(e):t.errorCode?o(f("Registration failed",t)):r(t)}),n)}))}))).promise}function v(e,t){var n=this;return Array.isArray(e)||(e=[e]),l(n,u(n).then((function(r){d(r);var o=r.native,i=r.u2f;return new n((function(n,r){if(o){var s=e[0].appId,a=e[0].challenge;i.sign(s,a,e,(function(e){e.errorCode?r(f("Sign failed",e)):(delete e.errorCode,n(e))}),t)}else i.sign(e,(function(e,t){e?r(e):t.errorCode?r(f("Sign failed",t)):n(t)}),t)}))}))).promise}function y(e){c[e]=function(){if(!t.Promise)throw new Error("The platform doesn't natively support promises");var n=[].slice.call(arguments);return c(t.Promise)[e].apply(null,n)}}c.ErrorCodes={CANCELLED:-1,OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},c.ErrorNames={"-1":"CANCELLED",0:"OK",1:"OTHER_ERROR",2:"BAD_REQUEST",3:"CONFIGURATION_UNSUPPORTED",4:"DEVICE_INELIGIBLE",5:"TIMEOUT"},y("isSupported"),y("ensureSupport"),y("register"),y("sign")}).call(this,n(8))},function(e,t,n){"use strict";var r=r||{};e.exports=r,r.EXTENSION_ID="kmendfapggjehodndflmmgagdbamhnfd",r.MessageTypes={U2F_REGISTER_REQUEST:"u2f_register_request",U2F_SIGN_REQUEST:"u2f_sign_request",U2F_REGISTER_RESPONSE:"u2f_register_response",U2F_SIGN_RESPONSE:"u2f_sign_response"},r.ErrorCodes={OK:0,OTHER_ERROR:1,BAD_REQUEST:2,CONFIGURATION_UNSUPPORTED:3,DEVICE_INELIGIBLE:4,TIMEOUT:5},r.Request,r.Response,r.Error,r.SignRequest,r.SignResponse,r.RegisterRequest,r.RegisterResponse,r.disconnect=function(){r.port_&&r.port_.port_&&(r.port_.port_.disconnect(),r.port_=null)},r.getMessagePort=function(e){if("undefined"!=typeof chrome&&chrome.runtime){var t={type:r.MessageTypes.U2F_SIGN_REQUEST,signRequests:[]};chrome.runtime.sendMessage(r.EXTENSION_ID,t,(function(){chrome.runtime.lastError?r.getIframePort_(e):r.getChromeRuntimePort_(e)}))}else r.getIframePort_(e)},r.getChromeRuntimePort_=function(e){var t=chrome.runtime.connect(r.EXTENSION_ID,{includeTlsChannelId:!0});setTimeout((function(){e(null,new r.WrappedChromeRuntimePort_(t))}),0)},r.WrappedChromeRuntimePort_=function(e){this.port_=e},r.WrappedChromeRuntimePort_.prototype.postMessage=function(e){this.port_.postMessage(e)},r.WrappedChromeRuntimePort_.prototype.addEventListener=function(e,t){var n=e.toLowerCase();"message"==n||"onmessage"==n?this.port_.onMessage.addListener((function(e){t({data:e})})):console.error("WrappedChromeRuntimePort only supports onMessage")},r.getIframePort_=function(e){var t="chrome-extension://"+r.EXTENSION_ID,n=document.createElement("iframe");n.src=t+"/u2f-comms.html",n.setAttribute("style","display:none"),document.body.appendChild(n);var o=!1,i=new MessageChannel,s=function(t){"ready"==t.data?(i.port1.removeEventListener("message",s),o||(o=!0,e(null,i.port1))):console.error('First event on iframe port was not "ready"')};i.port1.addEventListener("message",s),i.port1.start(),n.addEventListener("load",(function(){n.contentWindow.postMessage("init",t,[i.port2])})),setTimeout((function(){o||(o=!0,e(new Error("IFrame extension not supported")))}),200)},r.EXTENSION_TIMEOUT_SEC=30,r.port_=null,r.waitingForPort_=[],r.reqCounter_=0,r.callbackMap_={},r.getPortSingleton_=function(e){r.port_?e(null,r.port_):(0==r.waitingForPort_.length&&r.getMessagePort((function(e,t){for(e||(r.port_=t,r.port_.addEventListener("message",r.responseHandler_));r.waitingForPort_.length;)r.waitingForPort_.shift()(e,t)})),r.waitingForPort_.push(e))},r.responseHandler_=function(e){var t=e.data,n=t.requestId;if(n&&r.callbackMap_[n]){var o=r.callbackMap_[n];delete r.callbackMap_[n],o(null,t.responseData)}else console.error("Unknown or missing requestId in response.")},r.isSupported=function(e){r.getPortSingleton_((function(t,n){e(!t)}))},r.sign=function(e,t,n){r.getPortSingleton_((function(o,i){if(o)return t(o);var s=++r.reqCounter_;r.callbackMap_[s]=t;var a={type:r.MessageTypes.U2F_SIGN_REQUEST,signRequests:e,timeoutSeconds:void 0!==n?n:r.EXTENSION_TIMEOUT_SEC,requestId:s};i.postMessage(a)}))},r.register=function(e,t,n,o){r.getPortSingleton_((function(i,s){if(i)return n(i);var a=++r.reqCounter_;r.callbackMap_[a]=n;var u={type:r.MessageTypes.U2F_REGISTER_REQUEST,signRequests:t,registerRequests:e,timeoutSeconds:void 0!==o?o:r.EXTENSION_TIMEOUT_SEC,requestId:a};s.postMessage(u)}))}},function(e,t){var n=function(e){if(!Array.isArray(e))throw new Error("Input must be an Array");if(0===e.length)throw new Error("Path must contain at least one level");for(var t=0;t<e.length;t++)if("number"!=typeof e[t])throw new Error("Path element is not a number");this.path=e};n.validatePathArray=function(e){try{return n.fromPathArray(e),!0}catch(e){return!1}},n.validateString=function(e,t){try{return n.fromString(e,t),!0}catch(e){return!1}},n.fromPathArray=function(e){return new n(e)},n.fromString=function(e,t){if(/^m\//i.test(e))e=e.slice(2);else if(t)throw new Error("Root element is required");for(var r=e.split("/"),o=new Array(r.length),i=0;i<r.length;i++){var s=/(\d+)([hH\']?)/.exec(r[i]);if(null===s)throw new Error("Invalid input");if(o[i]=parseInt(s[1],10),o[i]>=2147483648)throw new Error("Invalid child index");if("h"===s[2]||"H"===s[2]||"'"===s[2])o[i]+=2147483648;else if(0!=s[2].length)throw new Error("Invalid modifier")}return new n(o)},n.prototype.toPathArray=function(){return this.path},n.prototype.toString=function(e,t){for(var n=new Array(this.path.length),r=0;r<this.path.length;r++){var o=this.path[r];n[r]=2147483648&o?(2147483647&o)+(t?"h":"'"):o}return(e?"":"m/")+n.join("/")},n.prototype.inspect=function(){return"BIPPath <"+this.toString()+">"},e.exports=n}]);